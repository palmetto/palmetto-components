import { useState } from 'react';
import { action } from '@storybook/addon-actions';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Box } from '../components/Box/Box';
import { SelectInput } from '../components/SelectInput/SelectInput';
import { SelectInputNative } from '../components/SelectInputNative/SelectInputNative';
import { Button } from '../components/Button/Button';
import { TextInput } from '../components/TextInput/TextInput';
import { TextInputFloating } from '../components/TextInputFloating/TextInputFloating';
import { Toggle } from '../components/Toggle/Toggle';

<Meta title="Patterns/Form Controls" />

## Sizes

Sizes for form controls likes inputs and buttons, should match so that they can be placed inline.

<Canvas>
  <Story name="Sizes">
    {() => {
      const [formValues, setFormValues] = useState({
        textInputSm: '',
        textInputMd: '',
        textInputLg: '',
        selectInput: {
          value: 'chocolate',
          label: 'Chocolate',
        },
        toggleValue: false,
      });
      const options = [
        {
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          value: 'strawberry',
          label: 'Strawberry',
        },
        {
          value: 'vanilla',
          label: 'Vanilla',
        },
      ];
      const handleChange = (key, value) => {
        setFormValues(prevFields => ({
          ...prevFields,
          [key]: value,
        }));
      };
      return (
        <Box direction="row" gap="xs">
          <Box gap="sm" width="110px">
            <Box height="32px" />
            <Box display="block">
              <TextInputFloating
                label="floating md"
                id="mdTextFloating"
                value={formValues.textInputMd}
                placeholder="Medium"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
              />
            </Box>
            <Box>
              <TextInputFloating
                label="floating lg"
                id="lgTextFloating"
                value={formValues.textInputLg}
                placeholder="Large"
                size="lg"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
              />
            </Box>
          </Box>
          <Box gap="sm" width="110px">
            <Box display="block">
              <TextInput
                id="smText"
                value={formValues.textInputSm}
                placeholder="Small"
                size="sm"
                onChange={event =>
                  handleChange('textInputSm', event.target.value)
                }
              />
            </Box>
            <Box display="block">
              <TextInput
                id="mdText"
                value={formValues.textInputMd}
                placeholder="Medium"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
              />
            </Box>
            <Box>
              <TextInput
                id="lgText"
                value={formValues.textInputLg}
                placeholder="Large"
                size="lg"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
              />
            </Box>
          </Box>
          <Box gap="sm" alignItems="flex-start" justifyContent="flex-start">
            <Button iconPrefix="add" size="sm">
              Small
            </Button>
            <Button iconPrefix="add" size="md">
              Medium
            </Button>
            <Button iconPrefix="add" size="lg">
              Large
            </Button>
          </Box>
          <Box gap="sm" width="150px" alignItems="flex-start">
            <SelectInputNative
              id="smallSelectNative"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="sm"
            />
            <SelectInputNative
              id="mediumSelectNative"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="md"
            />
            <SelectInputNative
              id="largeSelectNative"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="lg"
            />
          </Box>
          <Box gap="sm" width="150px" alignItems="flex-start">
            <SelectInput
              id="smallSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="sm"
            />
            <SelectInput
              id="mediumSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="md"
            />
            <SelectInput
              id="largeSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              size="lg"
            />
          </Box>
          <Box gap="sm" width="200px" alignItems="flex-start">
            <SelectInput
              id="smallMultiSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              isMulti
              size="sm"
            />
            <SelectInput
              id="mediumMultiSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              isMulti
              size="md"
            />
            <SelectInput
              id="largeMultiSelect"
              label="Label"
              onChange={event =>
                handleChange('selectInput', event.target.value)
              }
              options={options}
              value={formValues.selectInput}
              hideLabel
              isMulti
              size="lg"
            />
          </Box>
          <Box gap="sm" width="160px">
            <Box height="32px" justifyContent="center">
              <Toggle
                id="smToggle"
                label="small toggle"
                hideLabel
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="sm"
              />
            </Box>
            <Box height="42px" justifyContent="center">
              <Toggle
                id="mdToggle"
                label="medium toggle"
                hideLabel
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="md"
              />
            </Box>
            <Box height="55px" justifyContent="center">
              <Toggle
                id="lgToggle"
                label="large toggle"
                hideLabel
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="lg"
              />
            </Box>
          </Box>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Sizes with Labels

Inline form sizes with labels.

<Canvas>
  <Story name="Sizes with Labels">
    {() => {
      const [formValues, setFormValues] = useState({
        textInputSm: '',
        textInputMd: '',
        textInputLg: '',
        selectInput: {
          value: 'chocolate',
          label: 'Chocolate',
        },
        toggleValue: false,
      });
      const options = [
        {
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          value: 'strawberry',
          label: 'Strawberry',
        },
        {
          value: 'vanilla',
          label: 'Vanilla',
        },
      ];
      const handleChange = (key, value) => {
        setFormValues(prevFields => ({
          ...prevFields,
          [key]: value,
        }));
      };
      return (
        <div>
          <Box direction="row" gap="sm" padding="sm">
            <Box width="30" />
            <Box width="30">
              <TextInput
                id="smTextLabel"
                value={formValues.textInputSm}
                placeholder="Small"
                size="sm"
                label="Label"
                onChange={event =>
                  handleChange('textInputSm', event.target.value)
                }
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement" size="sm">
                Small Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="smSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="sm"
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="smToggleLabel"
                label="small toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="sm"
              />
            </Box>
          </Box>
          <Box direction="row" alignItems="flex-end" gap="sm" padding="sm">
            <Box width="30">
              <TextInputFloating
                id="mdTextLabelFloating"
                value={formValues.textInputMd}
                placeholder="Floating MD"
                size="md"
                label="Floating Label"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
              />
            </Box>
            <Box width="30">
              <TextInput
                id="mdTextLabel"
                value={formValues.textInputMd}
                placeholder="Medium"
                label="Label"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement">Medium Button</Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="mdSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="md"
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="mdToggleLabel"
                label="medium toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="md"
              />
            </Box>
          </Box>
          <Box direction="row" alignItems="flex-end" gap="sm" padding="sm">
            <Box width="30">
              <TextInputFloating
                id="lgTextLabelFloating"
                value={formValues.textInputLg}
                placeholder="Floating Lg"
                size="lg"
                label="Floating Label"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
              />
            </Box>
            <Box width="30">
              <TextInput
                id="lgTextLabel"
                value={formValues.textInputLg}
                placeholder="Large"
                size="lg"
                label="Label"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement" size="lg">
                Large Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="lgSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="lg"
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="lgToggleLabel"
                label="large toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="lg"
              />
            </Box>
          </Box>
        </div>
      );
    }}
  </Story>
</Canvas>

## Sizes with Error States

Inline form sizes with error states.

<Canvas>
  <Story name="Sizes with Error State">
    {() => {
      const [formValues, setFormValues] = useState({
        textInputSm: '',
        textInputMd: '',
        textInputLg: '',
        selectInput: {
          value: 'chocolate',
          label: 'Chocolate',
        },
        toggleValue: false,
      });
      const options = [
        {
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          value: 'strawberry',
          label: 'Strawberry',
        },
        {
          value: 'vanilla',
          label: 'Vanilla',
        },
      ];
      const handleChange = (key, value) => {
        setFormValues(prevFields => ({
          ...prevFields,
          [key]: value,
        }));
      };
      const errorMsg = 'Error message';
      return (
        <div>
          <Box direction="row" gap="sm" padding="sm">
            <Box width="30" />
            <Box width="30">
              <TextInput
                id="smTextLabel"
                value={formValues.textInputSm}
                placeholder="Small"
                size="sm"
                label="Label"
                onChange={event =>
                  handleChange('textInputSm', event.target.value)
                }
                error={errorMsg}
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement" size="sm">
                Small Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="smSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="sm"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="smToggleLabel"
                label="small toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="sm"
                error={errorMsg}
              />
            </Box>
          </Box>
          <Box direction="row" alignItems="flex-end" gap="sm" padding="sm">
            <Box width="30">
              <TextInputFloating
                id="mdTextLabelFloating"
                value={formValues.textInputMd}
                placeholder="Floating MD"
                size="md"
                label="Floating Label"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
                error={errorMsg}
              />
            </Box>
            <Box width="30">
              <TextInput
                id="mdTextLabel"
                value={formValues.textInputMd}
                placeholder="Medium"
                label="Label"
                onChange={event =>
                  handleChange('textInputMd', event.target.value)
                }
                error={errorMsg}
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement">Medium Button</Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="mdSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="md"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="mdToggleLabel"
                label="medium toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="md"
                error={errorMsg}
              />
            </Box>
          </Box>
          <Box direction="row" alignItems="flex-end" gap="sm" padding="sm">
            <Box width="30">
              <TextInputFloating
                id="lgTextLabelFloating"
                value={formValues.textInputLg}
                placeholder="Floating Lg"
                size="lg"
                label="Floating Label"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
                error={errorMsg}
              />
            </Box>
            <Box width="30">
              <TextInput
                id="lgTextLabel"
                value={formValues.textInputLg}
                placeholder="Large"
                size="lg"
                label="Label"
                onChange={event =>
                  handleChange('textInputLg', event.target.value)
                }
                error={errorMsg}
              />
            </Box>
            <Box alignItems="flex-end" direction="row">
              <Button iconPrefix="property-agreement" size="lg">
                Large Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="lgSelectLabel"
                label="Label"
                onChange={event =>
                  handleChange('selectInput', event.target.value)
                }
                options={options}
                value={formValues.selectInput}
                size="lg"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="lgToggleLabel"
                label="large toggle"
                onChange={event =>
                  handleChange('toggleValue', event.target.checked)
                }
                isChecked={formValues.toggleValue}
                size="lg"
                error={errorMsg}
              />
            </Box>
          </Box>
        </div>
      );
    }}
  </Story>
</Canvas>

## Sizes with Labels and Error States

Inline form sizes with labels and error states.

<Canvas>
  <Story name="Sizes with Labels and Error State">
    {() => {
      const [value, setValue] = useState('');
      const [value1, setValue1] = useState('');
      const [value2, setValue2] = useState('');
      const [value3, setValue3] = useState('');
      const [valueErrorLabel4, setValueErrorLabel4] = useState();
      const options = [
        {
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          value: 'strawberry',
          label: 'Strawberry',
        },
        {
          value: 'vanilla',
          label: 'Vanilla',
        },
      ];
      const errorMsg = 'Error message';
      return (
        <div>
          <Box direction="row" gap="sm" padding="sm">
            <Box width="30">
              <TextInput
                id="smErrorLabelText"
                value={value}
                placeholder="Small"
                size="sm"
                label="Label"
                error={errorMsg}
                onChange={event => setValue(event.target.value)}
              />
            </Box>
            <Box alignItems="center" direction="row">
              <Button iconPrefix="property-agreement" size="sm">
                Small Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="smErrorLabelSelect"
                label="Label"
                onChange={event => setValue3(event.target.value)}
                options={options}
                value={value3}
                size="sm"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="smToggleErrorLabel"
                label="small toggle"
                onChange={event => setValueErrorLabel4(event.target.checked)}
                isChecked={valueErrorLabel4}
                size="sm"
                error={errorMsg}
              />
            </Box>
          </Box>
          <Box direction="row" gap="sm" padding="sm">
            <Box width="30">
              <TextInput
                id="mdErrorLabelText"
                value={value1}
                placeholder="Medium"
                label="Label"
                error={errorMsg}
                onChange={event => setValue1(event.target.value)}
              />
            </Box>
            <Box alignItems="center" direction="row">
              <Button iconPrefix="property-agreement">Medium Button</Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="mdErrorLabelSelect"
                label="Label"
                onChange={event => setValue3(event.target.value)}
                options={options}
                value={value3}
                size="md"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="mdToggleErrorLabel"
                label="medium toggle"
                onChange={event => setValueErrorLabel4(event.target.checked)}
                isChecked={valueErrorLabel4}
                size="md"
                error={errorMsg}
              />
            </Box>
          </Box>
          <Box direction="row" gap="sm" padding="sm">
            <Box width="30">
              <TextInput
                id="lgErrorLabelText"
                value={value2}
                placeholder="Large"
                size="lg"
                label="Label"
                error={errorMsg}
                onChange={event => setValue2(event.target.value)}
              />
            </Box>
            <Box alignItems="center" direction="row">
              <Button iconPrefix="property-agreement" size="lg">
                Large Button
              </Button>
            </Box>
            <Box width="160px">
              <SelectInput
                id="lgSelect"
                label="Label"
                onChange={event => setValue3(event.target.value)}
                options={options}
                value={value3}
                size="lg"
                error={errorMsg}
              />
            </Box>
            <Box justifyContent="center">
              <Toggle
                id="lgToggleErrorLabel"
                label="large toggle"
                onChange={event => setValueErrorLabel4(event.target.checked)}
                isChecked={valueErrorLabel4}
                size="lg"
                error={errorMsg}
              />
            </Box>
          </Box>
        </div>
      );
    }}
  </Story>
</Canvas>

<Canvas>
  <Story name="Adjacent Inputs">
    {() => {
      const [value, setValue] = useState('');
      const [value1, setValue1] = useState('');
      const [value2, setValue2] = useState('');
      const [value3, setValue3] = useState('');
      const options = [
        {
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          value: 'strawberry',
          label: 'Strawberry',
        },
        {
          value: 'vanilla',
          label: 'Vanilla',
        },
      ];
      return (
        <Box direction="row" gap="lg">
          <TextInput
            id="textInput"
            value={value}
            label="Text Input"
            onChange={event => setValue(event.target.value)}
          />
          <SelectInput
            id="selectInput"
            label="Select Input"
            onChange={event => setValue1(event.target.value)}
            options={options}
            value={value1}
          />
          <SelectInputNative
            id="selectInputNative"
            label="Select InputNative"
            onChange={event => setValue2(event.target.value)}
            options={options}
            value={value2}
          />
          <TextInput
            id="textInput2"
            value={value3}
            label="Second Text Input"
            onChange={event => setValue3(event.target.value)}
          />
        </Box>
      );
    }}
  </Story>
</Canvas>
