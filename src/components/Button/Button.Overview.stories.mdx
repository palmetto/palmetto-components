import { action } from '@storybook/addon-actions';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import { BrowserRouter, Link } from 'react-router-dom';
import { Alert } from '../Alert/Alert';
import { Button } from './Button';
import { Box } from '../Box/Box';

<Meta title="Components/Button/Overview" component={Button} />

# Button

Buttons are used as triggers for actions.
They are used in forms, toolbars, modal dialogs and as stand-alone action triggers.
Actions almost always occur on the same page.

<Canvas isExpanded>
  <Button onClick={() => alert('clicked')}>Button</Button>
</Canvas>

## Props

<ArgsTable of={Button} />

## Variants

The `variant` prop determines which color visual weight to render.

<Canvas withSource="open">
  <Story
    name="Variants"
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/k1kOsplTGXvSSMQQCzhCND/Palmetto-Design-System?type=design&node-id=4065%3A1337&mode=design&t=y5ghcijLJzWx4apI-1',
      },
    }}
  >
    <Box childGap="md" style={{ backgroundColor: 'var(--background-primary)'}}>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary">Primary</Button>
        <Button variant="secondary">Secondary</Button>
        <Button variant="tertiary">Tertiary</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-neutral">Primary-Neutral</Button>
        <Button variant="secondary-neutral">Secondary-Neutral</Button>
        <Button variant="tertiary-neutral">Tertiary-Neutral</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-danger">Primary-Danger</Button>
        <Button variant="secondary-danger">Secondary-Danger</Button>
        <Button variant="tertiary-danger">Tertiary-Danger</Button>
      </Box>
    </Box>
  </Story>
</Canvas>

## Dark mode

<Canvas withSource="open">
  <Story name="Dark Mode">
    <Box childGap="md" padding="lg" data-theme="dark" style={{ backgroundColor: 'var(--background-primary)'}}>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary">Primary</Button>
        <Button variant="secondary">Secondary</Button>
        <Button variant="tertiary">Tertiary</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-neutral">Primary-Neutral</Button>
        <Button variant="secondary-neutral">Secondary-Neutral</Button>
        <Button variant="tertiary-neutral">Tertiary-Neutral</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-danger">Primary-Danger</Button>
        <Button variant="secondary-danger">Secondary-Danger</Button>
        <Button variant="tertiary-danger">Tertiary-Danger</Button>
      </Box>
    </Box>
    <Box childGap="md" padding="lg" data-theme="dark" style={{ backgroundColor: 'var(--background-secondary)'}}>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary">Primary</Button>
        <Button variant="secondary">Secondary</Button>
        <Button variant="tertiary">Tertiary</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-neutral">Primary-Neutral</Button>
        <Button variant="secondary-neutral">Secondary-Neutral</Button>
        <Button variant="tertiary-neutral">Tertiary-Neutral</Button>
      </Box>
      <Box childGap="sm" direction="row" alignItems="flex-start">
        <Button variant="primary-danger">Primary-Danger</Button>
        <Button variant="secondary-danger">Secondary-Danger</Button>
        <Button variant="tertiary-danger">Tertiary-Danger</Button>
      </Box>
    </Box>
  </Story>
</Canvas>

## Sizes
Set the size of the button to `xs`, `sm`, `md` or `lg`. `md` is the default size. The button also takes a `ResponsiveProp` object
so it can have different sizes at different breakpoints.

<Canvas withSource="open">
  <Story
    name="Size"
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/k1kOsplTGXvSSMQQCzhCND/Palmetto-Design-System?node-id=2115%3A24829',
      },
    }}
  >
    <Box childGap="sm" direction="row" alignItems="flex-start">
      <Button size="xs">
        xs
      </Button>
      <Button size="sm">
        sm
      </Button>
      <Button size="md">
        md
      </Button>
      <Button size="lg">
        lg
      </Button>
      <Button
        size={{
          base: 'xs',
          tablet: 'sm',
          desktop: 'md',
          hd: 'lg',
        }}
        variant="primary-neutral"
      >
        responsive
      </Button>
    </Box>
  </Story>
</Canvas>

## Full Width

Use the `fullWidth` prop to allow the button to grow to its container's full width.

<Canvas withSource="open">
  <Story name="Full Width">
    <Button variant="primary-neutral" fullWidth>Full Width</Button>
  </Story>
</Canvas>

## Icons

Add an icon to the left or right inside the Button using the `iconPrefix` and `iconSuffix` props respectively.

<Canvas withSource="open">
  <Story name="With Icons">
    <Box direction="row" childGap="xs">
      <Button variant="primary-neutral" iconPrefix="mail">
        Email
      </Button>
      <Button variant="secondary-neutral" iconSuffix="chat">
        Chat Now
      </Button>
    </Box>
  </Story>
</Canvas>

## Icon Button

Use a combination of `tertiary-*` variant and a named icon to make an icon a button. Be sure to include an `aria-label` for screen readers to know what action the button will perform when pressed.

<Canvas withSource="open">
  <Story name="Icon Button">
    <Button variant="tertiary" iconPrefix="add" aria-label="add" />
    <Button variant="tertiary-neutral" iconPrefix="dots" aria-label="open menu" />
    <Button variant="tertiary-danger" iconPrefix="trash" aria-label="remove" />
  </Story>
</Canvas>

## Loading

Setting the `isLoading` prop to true will replace the button text with loading indicator and disable the button to prevent unintended submissions.
The width of the button will remain consistent to prevent content from shifting.

<Canvas withSource="open">
  <Story name="Loading">
    <Box direction="row" childGap="sm">
      <Button isLoading>Primary Loading</Button>
      <Button variant="secondary" isLoading>Secondary Loading</Button>
      <Button variant="tertiary" isLoading>Tertiary Loading</Button>
    </Box>
  </Story>
</Canvas>

## Disabled

Use for actions that arenâ€™t currently available, such as immediately after a form submission.
The interface should make it clear why the button is disabled and what needs to be done to enable it.

<Canvas withSource="open">
  <Story name="Disabled">
    <Box direction="row" childGap="sm">
      <Button variant="primary-neutral" isDisabled>Primary Disabled</Button>
      <Button variant="secondary-neutral" isDisabled>Secondary Disabled</Button>
      <Button variant="tertiary-neutral" isDisabled>Tertiary Disabled</Button>
    </Box>
  </Story>
</Canvas>

## Event Callbacks

Callback functions can be passed to `onClick`, `onBlur`, and `onFocus` events.

<Canvas withSource="open">
  <Story name="Event Callbacks">
    <Button
      onBlur={action('blur')}
      onClick={action('click')}
      onFocus={action('focus')}
    >
      click, focus, blur events
    </Button>
  </Story>
</Canvas>

## As an Anchor

You can render an anchor tag with the style of a button by using the `as` prop. You
can render buttons as one of `button`, `a`, and `input`.

<Canvas>
  <Story name="As an Anchor">
    <Button as="a" href="https://ux.palmetto.com" target="_blank">
      I'm an anchor tag
    </Button>
  </Story>
</Canvas>

## Wrapped in a React Router Link

<Canvas>
  <Story
    name="React Router Link"
    decorators={[
      Story => (
        <BrowserRouter>
          <Story />
        </BrowserRouter>
      ),
    ]}
  >
    <Link to="/" as="a" component={Button}>
      React Router Link
    </Link>
    <Box margin="md 0 0 0">
      <Alert
        hasIcon
        message="NOTE: this link will not work in storybook but the code example is correct if used in a React application with react-router-dom."
        variant="warning"
      />
    </Box>
  </Story>
</Canvas>

## Custom Theme
The Button component can be themed by base tokens, or component specific tokens. This example shows how we style our `Button` with our brand font and squared corners for use on our public marketing site.
<Canvas>
  <Story name="With Custom Theme">
    <Box
      gap="sm"
      direction="row"
      alignItems="flex-start"
      style={{
        '--button-font-family': 'var(--asset-fonts-brand)',
        '--button-font-weight': 'var(--size-font-weight-bold)',
        '--button-size-xs-border-radius': '0',
        '--button-size-sm-border-radius': '0',
        '--button-size-md-border-radius': '0',
        '--button-size-lg-border-radius': '0',
      }}
    >
      <Button variant="primary" size="xs">Get Solar</Button>
      <Button variant="primary" size="sm">Get Solar</Button>
      <Button variant="primary" size="md">Get Solar</Button>
      <Button variant="primary" size="lg">Get Solar</Button>
    </Box>
  </Story>
</Canvas>

## Component Design Tokens
<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>default value</th>
    </tr>
  </thead>
  <tbody>
    {(() => {
      const tokens = {
        '--button-font-family': '--asset-fonts-body',
        '--button-font-weight': '--size-font-weight-bold',
        '--button-size-xs-border-radius': '--form-control-size-sm-border-radius',
        '--button-size-xs-font-size': '--form-control-size-xs-font-size',
        '--button-size-xs-padding-vertical': '--size-spacing-2xs',
        '--button-size-xs-padding-horizontal': '--size-spacing-xs',
        '--button-size-sm-border-radius': '--form-control-size-sm-border-radius',
        '--button-size-sm-font-size': '--form-control-size-sm-font-size',
        '--button-size-sm-padding-vertical': '--form-control-size-sm-padding',
        '--button-size-sm-padding-horizontal': '--size-spacing-sm',
        '--button-size-md-border-radius': '--form-control-size-md-border-radius',
        '--button-size-md-font-size': '--form-control-size-md-font-size',
        '--button-size-md-padding-vertical': '--form-control-size-md-padding',
        '--button-size-md-padding-horizontal': '--size-spacing-md',
        '--button-size-lg-border-radius': '--form-control-size-lg-border-radius',
        '--button-size-lg-font-size': '--form-control-size-lg-font-size',
        '--button-size-lg-padding-vertical': '--form-control-size-lg-padding',
        '--button-size-lg-padding-horizontal': '--size-spacing-lg',
        '--button-primary-background-color': '--color-brand-primary-500;',
        '--button-primary-background-color-hover': '--color-brand-primary-600',
        '--button-primary-background-color-active': '--color-brand-primary-700',
        '--button-primary-font-color': '--color-brand-white-base',
        '--button-primary-font-color-hover': '--color-brand-white-base',
        '--button-secondary-background-color': '--color-brand-white-base',
        '--button-secondary-background-color-hover': '--color-brand-primary-50',
        '--button-secondary-background-color-active': '--color-brand-primary-100',
        '--button-secondary-border-color': '--color-brand-grey-200',
        '--button-secondary-border-color-hover': '--color-brand-primary-100',
        '--button-secondary-font-color': '--color-brand-primary-500',
        '--button-secondary-font-color-hover': '--color-brand-primary-500',
        '--button-tertiary-background-color': 'transparent',
        '--button-tertiary-background-color-hover': '--color-brand-primary-50',
        '--button-tertiary-background-color-active': '--color-brand-primary-100',
        '--button-tertiary-font-color': '--color-brand-primary-500',
        '--button-tertiary-font-color-hover': '--color-brand-primary-500',
        '--button-primary-neutral-background-color': '--color-brand-grey-100',
        '--button-primary-neutral-background-color-hover': '--color-brand-grey-200',
        '--button-primary-neutral-background-color-active': '--color-brand-grey-300',
        '--button-primary-neutral-font-color': '--color-brand-grey-700',
        '--button-primary-neutral-font-color-hover': '--color-brand-grey-700',
        '--button-secondary-neutral-background-color': '--color-brand-white-base',
        '--button-secondary-neutral-background-color-hover': '--color-brand-grey-100',
        '--button-secondary-neutral-background-color-active': '--color-brand-grey-200',
        '--button-secondary-neutral-border-color': '--color-brand-grey-200',
        '--button-secondary-neutral-border-color-hover': '--color-brand-grey-100',
        '--button-secondary-neutral-font-color': '--color-brand-grey-700',
        '--button-secondary-neutral-font-color-hover': '--color-brand-grey-700',
        '--button-tertiary-neutral-background-color': 'transparent',
        '--button-tertiary-neutral-background-color-hover': '--color-brand-grey-100',
        '--button-tertiary-neutral-background-color-active': '--color-brand-grey-200',
        '--button-tertiary-neutral-font-color': '--color-brand-grey-700',
        '--button-tertiary-neutral-font-color-hover': '--color-brand-grey-700',
        '--button-primary-danger-background-color': '--color-brand-danger-500',
        '--button-primary-danger-background-color-hover': '--color-brand-danger-600',
        '--button-primary-danger-background-color-active': '--color-brand-danger-700',
        '--button-primary-danger-font-color': '--color-brand-white-base',
        '--button-primary-danger-font-color-hover': '--color-brand-white-base',
        '--button-secondary-danger-background-color': '--color-brand-white-base',
        '--button-secondary-danger-background-color-hover': '--color-brand-danger-50',
        '--button-secondary-danger-background-color-active': '--color-brand-danger-100',
        '--button-secondary-danger-border-color': '--color-brand-grey-200',
        '--button-secondary-danger-border-color-hover': '--color-brand-danger-100',
        '--button-secondary-danger-font-color': '--color-brand-danger-500',
        '--button-secondary-danger-font-color-hover': '--color-brand-danger-500',
        '--button-tertiary-danger-background-color': 'transparent',
        '--button-tertiary-danger-background-color-hover': '--color-brand-danger-50',
        '--button-tertiary-danger-background-color-active': '--color-brand-danger-100',
        '--button-tertiary-danger-font-color': '--color-brand-danger-500',
        '--button-tertiary-danger-font-color-hover': '--color-brand-danger-500',
        '--button-box-shadow-focus': '0 0 0 4px --color-brand-primary-200',
        '--button-neutral-box-shadow-focus': '0 0 0 4px --color-brand-grey-200',
        '--button-danger-box-shadow-focus': '0 0 0 4px --color-brand-danger-200'
      };
return Object.entries(tokens).map(([name, entry], i) => (
<tr key={i}>
  <td>
    <code>{name}</code>
  </td>
  <td>
    <code>{entry}</code>
  </td>
</tr>
)); })()}
  </tbody>
</table>
