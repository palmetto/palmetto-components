import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { size } from '@palmetto/palmetto-design-tokens/build/js/variables-size';
import { color } from '@palmetto/palmetto-design-tokens/build/js/variables-color';
import { asset } from '@palmetto/palmetto-design-tokens/build/js/variables-asset';

import { Alert } from '../components/Alert/Alert';
import { Badge } from '../components/Badge/Badge';
import { Box } from '../components/Box/Box';
import { Button } from '../components/Button/Button';
import { CategoryFilter } from '../components/CategoryFilter/CategoryFilter';
import { Heading } from '../components/Heading/Heading';

<Meta title="Theming/Example" />

# Theming

Palmetto Components library uses Design Tokens at its core. Since all design tokens are tied to CSS variables, the underlying values can be overwritten to easily generate custom themes.

There are two kinds of theming variables in our library:

1. Base Tokens -- Changing these will affect the look and feel of the entire library. E.G: `--color-brand-primary-500`, or `--size-spacing-md`.
2. Component Tokens -- Theses are scoped to specific components so altering them will apply to that component only. E.G: `--button-size-md-font-size`.

<Canvas>
  <Story name="Theme Example">
    <Box
      childGap="lg"
      background="white"
      borderWidth="xs"
      borderColor="grey-100"
      padding="3xl"
      display="block"
      style={{
        '--color-brand-info-100': 'red',
      }}
      margin="lg 0"
    >
      <Box childGap="sm">
        <Heading as="h2" size="2xl">
          Leading the world toward a clean energy future
        </Heading>
        <Box as="p">
          At Palmetto, we are fueling the rapid expansion of residential solar energy across the
          United States. How? By flipping the traditional solar industry model on its head. We've
          developed software products that help people, like you, to instantly calculate their
          monthly savings and put those savings within reach. Our decentralized network of solar
          sellers and installers allows homeowners to quickly access professional service and
          support while growing the clean energy economy in their local community.
        </Box>
      </Box>
      <Box alignItems="center" childGap="sm" direction="row">
        <Button variant="primary">Primary</Button>
        <Button variant="success">Success</Button>
        <Button variant="danger">Danger</Button>
        <Button variant="light">Light</Button>
        <Button variant="dark">Dark</Button>
        <Button variant="white">White</Button>
      </Box>
      <Box direction="row" childGap="sm">
        <Badge variant="primary" message="primary" />
        <Badge variant="secondary" message="secondary" />
        <Badge variant="tertiary" message="tertiary" />
        <Badge variant="info" message="info" />
        <Badge variant="success" message="success" />
        <Badge variant="warning" message="warning" />
        <Badge variant="danger" message="danger" />
        <Badge variant="default" message="default" />
      </Box>
      <Box direction="row" childGap="sm">
        <CategoryFilter>Unselected</CategoryFilter>
        <CategoryFilter isSelected>Selected</CategoryFilter>
      </Box>
      <Box childGap="sm">
        <Alert hasIcon variant="info" title="Info" message="This is an info alert" />
        <Alert hasIcon variant="success" title="Success" message="This is a success alert" />
        <Alert hasIcon variant="warning" title="Warning" message="This is a warning alert" />
        <Alert hasIcon variant="danger" title="Danger" message="This is a danger alert" />
        <Alert hasIcon variant="default" title="Default" message="This is a default alert" />
      </Box>
    </Box>
  </Story>
</Canvas>

### Colors

Below is a table of all customizable base tokens. For component-specific variables, see docs for the specific component.

NOTE: Some colors are mapped to others, so changing it is important to change both to maintain consistency.

E.G: `--color-brand-primary-base` is the same as `--color-brand-primary-500`. Similarly `lighter`, `darker` (semantic variations) will correspond
to one of the number values in the scale. E.G: `--color-brand-primary-lightest` is the same as `--color-brand-primary-50`.

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(color.brand).map(([name, colorVariations]) =>
      Object.entries(colorVariations).map(([variationName, variationValue], i) => {
        const variationsWithDarkFont = [
          'white',
          'light',
          'lighter',
          'lightest',
          'transparent',
          '50',
          '100',
          '200',
          '300',
        ];
        return (
          <tr key={i}>
            <td>
              <code>{`--color-brand-${name}-${variationName}`}</code>
            </td>
            <td
              style={{
                background: variationValue.value,
                color: variationsWithDarkFont.includes(variationName) ? 'black' : 'white',
              }}
            >
              {variationValue.value}
            </td>
          </tr>
        );
      }),
    )}
  </tbody>
</table>

### Border Radius

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
      <th>px</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['border-radius']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-border-radius-${name}`}</code>
        </td>
        <td>{entry.value}</td>
        <td>{name !== 'circle' ? entry.original.value * 16 : ''}</td>
      </tr>
    ))}
  </tbody>
</table>

### Border Width

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['border']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-border-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>

### Box Shadow

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['box-shadow']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-box-shadow-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>

### Font Family

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(asset.fonts).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--asset-fonts-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>

### Font Size

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
      <th>px</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size.font).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-font-${name}`}</code>
        </td>
        <td>{entry.value}</td>
        <td>{name === 'base' ? '16' : name === 'inherit' ? '' : entry.original.value * 16}</td>
      </tr>
    ))}
  </tbody>
</table>

### Font Weight

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['font-weight']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-font-weight-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>

### Height

NOTE: You likely do not want to change underlying variable values for literal variables. E.G: `--size-height-90`.

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
      <th>px</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size.height).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-height-${name}`}</code>
        </td>
        <td>{entry.value}</td>
        <td>
          {name === 'base'
            ? '16'
            : entry.value.includes('%') || ['inherit', 'auto'].includes(name)
            ? ''
            : entry.original.value * 16}
        </td>
      </tr>
    ))}
  </tbody>
</table>

### Width

NOTE: You likely do not want to change underlying variable values for literal variables. E.G: `--size-width-90`.

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
      <th>px</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size.width).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-width-${name}`}</code>
        </td>
        <td>{entry.value}</td>
        <td>
          {name === 'base'
            ? '16'
            : entry.value.includes('%') || ['inherit', 'auto'].includes(name)
            ? ''
            : entry.original.value * 16}
        </td>
      </tr>
    ))}
  </tbody>
</table>

### Line Height

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['line-height']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-line-height-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>

### Spacing

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
      <th>px</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size.spacing).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-spacing-${name}`}</code>
        </td>
        <td>{entry.value}</td>
        <td>
          {name === 'base'
            ? '16'
            : ['inherit', 'auto'].includes(name)
            ? ''
            : entry.original.value * 16}
        </td>
      </tr>
    ))}
  </tbody>
</table>

### Z-Index

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    {Object.entries(size['z-index']).map(([name, entry], i) => (
      <tr key={i}>
        <td>
          <code>{`--size-z-index-${name}`}</code>
        </td>
        <td>{entry.value}</td>
      </tr>
    ))}
  </tbody>
</table>
